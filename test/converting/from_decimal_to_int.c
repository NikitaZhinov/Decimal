#include "converting.h"

START_TEST(dec_to_int_1) {
  s21_decimal src;
  src.bits[0] = 0b00000000000000000000000000110010;
  src.bits[1] = 0b00000000000000000000000000000000;
  src.bits[2] = 0b00000000000000000000000000000000;
  src.bits[3] = 0b00000000000000010000000000000000;
  int result = 0;
  int origin = 5;
  int origin_error = 0;
  int my_error = s21_from_decimal_to_int(src, &result);
  ck_assert_int_eq(origin, result);
  ck_assert_int_eq(origin_error, my_error);
}
END_TEST

START_TEST(dec_to_int_2) {
  s21_decimal src;
  src.bits[0] = 0b00000000000000000000000000100010;
  src.bits[1] = 0b00000000000000000000000000000000;
  src.bits[2] = 0b00000000000000000000000000000000;
  src.bits[3] = 0b00000000000000010000000000000000;
  int result = 0;
  int origin = 3;
  int origin_error = 0;
  int my_error = s21_from_decimal_to_int(src, &result);
  ck_assert_int_eq(origin, result);
  ck_assert_int_eq(origin_error, my_error);
}
END_TEST

START_TEST(dec_to_int_3) {
  s21_decimal src;
  src.bits[0] = 0b00000000000000000000000000000000;
  src.bits[1] = 0b00000000000000000000000000000000;
  src.bits[2] = 0b00000000000000000000000000000000;
  src.bits[3] = 0b00000000000000010000000000000000;
  int result = 0;
  int origin = 0;
  int origin_error = 0;
  int my_error = s21_from_decimal_to_int(src, &result);
  ck_assert_int_eq(origin, result);
  ck_assert_int_eq(origin_error, my_error);
}
END_TEST

START_TEST(dec_to_int_4) {
  s21_decimal src;
  src.bits[0] = 0b00000001011100111100000111000111;
  src.bits[1] = 0b00000000000000000000000000000000;
  src.bits[2] = 0b00000000000000000000000000000000;
  src.bits[3] = 0b10000000000001110000000000000000;
  int result = 0;
  int origin = -2;
  int origin_error = 0;
  int my_error = s21_from_decimal_to_int(src, &result);
  ck_assert_int_eq(origin, result);
  ck_assert_int_eq(origin_error, my_error);
}
END_TEST

START_TEST(dec_to_int_5) {
  s21_decimal src;
  src.bits[0] = 0b00000000000000000000000000000000;
  src.bits[1] = 0b00000000000000000000000000000000;
  src.bits[2] = 0b00000000000000000000000000000000;
  src.bits[3] = 0b10000000000000010000000000000000;
  int result = 0;
  int origin = 0;
  int origin_error = 0;
  int my_error = s21_from_decimal_to_int(src, &result);
  ck_assert_int_eq(origin, result);
  ck_assert_int_eq(origin_error, my_error);
}
END_TEST

START_TEST(dec_to_int_6) {
  int num_int = 0, exept_int = 4896775;
  s21_decimal dec = {{4896775, 0, 0, 0}};

  s21_from_decimal_to_int(dec, &num_int);

  int exepted_result = 1, real_result = 0;

  real_result = (exept_int == num_int);

  ck_assert_int_eq(exepted_result, real_result);
}
END_TEST

START_TEST(dec_to_int_7) {
  s21_decimal src;
  src.bits[0] = 0b00000011111000110110011011000111;
  src.bits[1] = 0b00000000000000000000000000000000;
  src.bits[2] = 0b00000000000000000000000000000000;
  src.bits[3] = 0b00000000000001010000000000000000;
  int result = 0;
  int origin = 652;
  int origin_error = 0;
  int my_error = s21_from_decimal_to_int(src, &result);
  ck_assert_int_eq(origin, result);
  ck_assert_int_eq(origin_error, my_error);
}
END_TEST

START_TEST(dec_to_int_8) {
  s21_decimal src;
  src.bits[0] = 0b00011101101010010010000100011011;
  src.bits[1] = 0b00000000000000000000000000000000;
  src.bits[2] = 0b00000000000000000000000000000000;
  src.bits[3] = 0b00000000000010000000000000000000;
  int result = 0;
  int origin = 4;
  int origin_error = 0;
  int my_error = s21_from_decimal_to_int(src, &result);
  ck_assert_int_eq(origin, result);
  ck_assert_int_eq(origin_error, my_error);
}
END_TEST

START_TEST(dec_to_int_9) {
  int num_int = 0;
  s21_decimal dec = {{0, 12, 0, 0}};

  int exepted_result = 1, real_result = 0;

  real_result = s21_from_decimal_to_int(dec, &num_int);

  ck_assert_int_eq(exepted_result, real_result);
}

START_TEST(dec_to_int_10) {
  s21_decimal src;
  src.bits[0] = 0b00010101101111011001110101001110;
  src.bits[1] = 0b00000000000000000000000000000000;
  src.bits[2] = 0b00000000000000000000000000000000;
  src.bits[3] = 0b10000000000000110000000000000000;
  int result = 0;
  int origin = -364748;
  int origin_error = 0;
  int my_error = s21_from_decimal_to_int(src, &result);
  ck_assert_int_eq(origin, result);
  ck_assert_int_eq(origin_error, my_error);
}
END_TEST

START_TEST(dec_to_int_11) {
  int num_int = 0;
  s21_decimal dec = {{UINT32_MAX, 0, 0, 0b10000000000000000000000000000000}};

  int exepted_result = 1, real_result = 0;

  real_result = s21_from_decimal_to_int(dec, &num_int);

  ck_assert_int_eq(exepted_result, real_result);
}
END_TEST

START_TEST(dec_to_int_12) {
  int num_int = 0;
  s21_decimal dec = {{12, 0, 0, 0b10000000000000000000000000000000}};

  int exepted_result = 0, real_result = 0;

  real_result = s21_from_decimal_to_int(dec, &num_int);

  ck_assert_int_eq(exepted_result, real_result);
}
END_TEST

START_TEST(dec_to_int_13) {
  s21_decimal src;
  src.bits[0] = 0b00111011100110101100100111111001;
  src.bits[1] = 0b00000000000000000000000000000000;
  src.bits[2] = 0b00000000000000000000000000000000;
  src.bits[3] = 0b00000000000000010000000000000000;
  int result = 0;
  int origin = 99999999;
  int origin_error = 0;
  int my_error = s21_from_decimal_to_int(src, &result);
  ck_assert_int_eq(origin, result);
  ck_assert_int_eq(origin_error, my_error);
}
END_TEST

START_TEST(dec_to_int_21) {
  s21_decimal src;
  src.bits[0] = 0b01011100000110001011011001101010;
  src.bits[1] = 0b00000000000000000000000000000000;
  src.bits[2] = 0b00000000000000000000000000000000;
  src.bits[3] = 0b10000000000000000000000000000000;
  int result = 0;
  int origin = -1545123434;
  int origin_error = 0;
  int my_error = s21_from_decimal_to_int(src, &result);
  ck_assert_int_eq(origin, result);
  ck_assert_int_eq(origin_error, my_error);
}
END_TEST

Suite *from_decimal_to_int_suite_create(void) {
  Suite *suite = suite_create("from decimal to int");
  TCase *tcase_core = tcase_create("Core of from decimal to int");

  tcase_add_test(tcase_core, dec_to_int_1);
  tcase_add_test(tcase_core, dec_to_int_2);
  tcase_add_test(tcase_core, dec_to_int_3);
  tcase_add_test(tcase_core, dec_to_int_4);
  tcase_add_test(tcase_core, dec_to_int_5);
  tcase_add_test(tcase_core, dec_to_int_6);
  tcase_add_test(tcase_core, dec_to_int_7);
  tcase_add_test(tcase_core, dec_to_int_8);
  tcase_add_test(tcase_core, dec_to_int_9);
  tcase_add_test(tcase_core, dec_to_int_10);
  tcase_add_test(tcase_core, dec_to_int_11);
  tcase_add_test(tcase_core, dec_to_int_12);
  tcase_add_test(tcase_core, dec_to_int_13);
  tcase_add_test(tcase_core, dec_to_int_21);

  suite_add_tcase(suite, tcase_core);

  return suite;
}